(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(70)},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(0),l=a.n(r),i=a(18),s=a.n(i),n=(a(44),a(45),a(46),a(9)),o=a(10),c=a(13),m=a(11),p=a(1),d=a(12),u=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.rate;return 0==e?l.a.createElement("div",null,l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("div",{style:{clear:"both"}})):1==e?l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("div",{style:{clear:"both"}})):2==e?l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("div",{style:{clear:"both"}})):3==e?l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("div",{style:{clear:"both"}})):4==e?l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"far fa-star"}),l.a.createElement("div",{style:{clear:"both"}})):l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("i",{className:"fas fa-star"}),l.a.createElement("div",{style:{clear:"both"}}))}}]),t}(r.Component),y=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).deleteReply=function(){a.props.deleteReply(a.props.row.review_reply_num,a.props.idx,a.props.review_num)};var r="";return r=a.props.member_num==a.props.row.member_num?"inline":"none",a.state={deleteBtnStyle:{display:r}},a.deleteReply=a.deleteReply.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="http://15.164.144.128:8080/HotelProject/save/member_pic/"+this.props.row.member_pic;return l.a.createElement("div",null,l.a.createElement("div",{className:"review_reply_list_div"},l.a.createElement("div",{style:{float:"left"}},l.a.createElement("img",{className:"img-circle",src:e,alt:"member_pic"})),l.a.createElement("div",{className:"reply_comments"},l.a.createElement("b",null,this.props.row.id)," ",this.props.row.review_reply_comment,l.a.createElement("span",{style:this.state.deleteBtnStyle,className:"replyDeleteBtn",onClick:this.deleteReply},l.a.createElement("i",{className:"fas fa-times"})),l.a.createElement("div",{style:{clear:"both"},className:"reply_writeday_div"},this.props.row.simpletime))))}}]),t}(r.Component),h=a(38),f=a(14),v=a.n(f),w=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).getMemberData=function(e){var t="http://15.164.144.128:8080/HotelProject/reviewGetMember?member_num="+e;v.a.get(t).then(function(e){a.setState({mbdto:e.data})}).catch(function(e){console.error(e)})},a.inputChange=function(e){0!==e.target.value.length?a.setState({buttonStyle:{border:0,color:"deepskyblue",fontWeight:"bold",paddingLeft:"10px",fontSize:"1em",marginTop:"-3px"}}):a.setState({buttonStyle:{border:0,color:"lightskyblue",paddingLeft:"10px",fontSize:"1em",marginTop:"-3px"}}),"Enter"==e.key&&a.insertReply()},a.insertReply=function(e){e.preventDefault(),a.props.insertReply(Object(h.a)({},a.refs),a.props.idx),a.props.showReplyList(),a.refs.review_reply_comment.value="",a.setState({buttonStyle:{border:0,color:"lightskyblue",paddingLeft:"10px",fontSize:"1em",marginTop:"-3px"}}),a.props.hideWriteForm(),a.props.scrollToLastReply()},a.goLoginPage=function(){console.log("goLoginPage");v.a.get("http://15.164.144.128:8080/HotelProject/reactLogin").then(function(e){a.setState({list:e.data})}).catch(function(e){console.error(e)})},a.state={member_num:a.props.member_num,review_num:a.props.review_num,mbdto:{review_reply_num:null,review_num:null,member_num:e.member_num,review_reply_writeday:null,review_reply_comment:""},buttonStyle:{border:0,color:"lightskyblue",paddingLeft:"10px",fontSize:"1em",marginTop:"-3px"}},a.getMemberData=a.getMemberData.bind(Object(p.a)(a)),a.insertReply=a.insertReply.bind(Object(p.a)(a)),0!==a.state.member_num&&a.getMemberData(a.state.member_num),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="http://15.164.144.128:8080/HotelProject/save/member_pic/"+this.state.mbdto.member_pic,t=this.state.mbdto.id+"\ub2d8\uc73c\ub85c \ub313\uae00 \ub2ec\uae30...";return 0==this.props.member_num?l.a.createElement("div",{className:"writeform_div"},l.a.createElement("a",{href:"http://15.164.144.128:8080/HotelProject/reactLogin.do?url=reviewlist.do"},l.a.createElement("div",{className:"writeform_nologin"},"\ub313\uae00\uc744 \uc791\uc131\ud558\uc2dc\ub824\uba74 \uba3c\uc800 ",l.a.createElement("span",null,"\ub85c\uadf8\uc778"),"\uc744 \ud574\uc8fc\uc138\uc694."))):l.a.createElement("div",{className:"review_reply_list_div writeform_div"},l.a.createElement("div",{style:{float:"left"}},l.a.createElement("img",{className:"img-circle",src:e,alt:"member_pic"})),l.a.createElement("div",{className:"reply_comments"},l.a.createElement("form",{onSubmit:this.insertReply},l.a.createElement("input",{type:"hidden",ref:"member_num",value:this.state.member_num}),l.a.createElement("input",{type:"hidden",ref:"review_num",value:this.state.review_num}),l.a.createElement("input",{type:"text",ref:"review_reply_comment",placeholder:t,onChange:this.inputChange}),l.a.createElement("button",{type:"submit",style:this.state.buttonStyle,className:"btn btn-xs btn-default",id:"reply_submit"},"\uac8c\uc2dc"))),l.a.createElement("div",{style:{clear:"both"}}))}}]),t}(r.Component),b=(a(64),function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).clickHeart=function(){a.props.updateLike(a.props.idx,a.props.row.review_num),a.setState({show:{display:"none"},hide:{display:"inline"},alreadyLiked:"yes"})},a.unclickHeart=function(){a.props.updateUnlike(a.props.idx,a.props.row.review_num),a.setState({show:{display:"inline"},hide:{display:"none"},alreadyLiked:"no"})},a.openDetailDiv=function(){"none"==a.state.rateDetailStyle.display?a.setState({rateDetailStyle:{display:"block",position:"absolute",top:"30px",backgroundColor:"white",zIndex:10}}):a.setState({rateDetailStyle:{display:"none"}})},a.toggleReplyList=function(){"\ubaa8\ub450 \ubcf4\uae30"==a.state.showOrHide?a.setState({replyListStyle:{display:"block"}}):a.setState({replyListStyle:{display:"none"}}),a.changeShowOrHide(),a.hideWriteForm()},a.closeAllReplyList=function(e){a.props.closeAllReplyList(e)},a.lastPositionConsolelog=function(){console.log("last reply position ",document.getElementById("lastReplyPosition").offsetTop)},a.showReplyList=function(){a.closeAllReplyList(a.props.idx),a.setState({replyListStyle:{display:"block"}})},a.changeShowOrHide=function(){"\ubaa8\ub450 \ubcf4\uae30"==a.state.showOrHide?a.setState({showOrHide:"\ubaa8\ub450 \ub2eb\uae30"}):"\ubaa8\ub450 \ub2eb\uae30"==a.state.showOrHide&&a.setState({showOrHide:"\ubaa8\ub450 \ubcf4\uae30"})},a.showWriteForm=function(){a.setState({writeformStyle:{display:"block",zIndex:10}}),a.showReplyList()},a.hideWriteForm=function(){a.setState({writeformStyle:{display:"none"}})},a.scrollToLastReply=function(){a.props.scrollToLastReply(a.props.idx,a.props.windowScroll)},a.deleteData=function(e){a.props.deleteData(a.props.row.review_num)},a.showHeart=function(){0==a.state.touchtime?a.setState({touchtime:(new Date).getTime()}):(new Date).getTime()-a.state.touchtime<800?(a.setState({heartStyle:{opacity:1,animation:"showHeart 2s",animationTimingFunction:"ease"},touchtime:0}),setTimeout(function(){this.setState({heartStyle:{opacity:0}})}.bind(Object(p.a)(a)),1900),"yes"!=a.state.alreadyLiked&&a.clickHeart()):a.setState({touchtime:(new Date).getTime()})};var r="";return r=a.props.member_num==a.props.row.member_num?"inline":"none",a.state={show:{display:"inline"},hide:{display:"none"},rateDetailStyle:{display:"none"},replyListStyle:{display:a.props.listStyle.display},showOrHide:"\ubaa8\ub450 \ubcf4\uae30",writeformStyle:{display:"none"},lastReplyPosition:0,member_num:e.member_num,moreBtnStyle:{display:r},touchtime:0,heartStyle:{opacity:0},alreadyLiked:"no"},a.clickHeart=a.clickHeart.bind(Object(p.a)(a)),a.unclickHeart=a.unclickHeart.bind(Object(p.a)(a)),a.openDetailDiv=a.openDetailDiv.bind(Object(p.a)(a)),a.toggleReplyList=a.toggleReplyList.bind(Object(p.a)(a)),a.changeShowOrHide=a.changeShowOrHide.bind(Object(p.a)(a)),a.showWriteForm=a.showWriteForm.bind(Object(p.a)(a)),a.hideWriteForm=a.hideWriteForm.bind(Object(p.a)(a)),a.scrollToLastReply=a.scrollToLastReply.bind(Object(p.a)(a)),a.lastPositionConsolelog=a.lastPositionConsolelog.bind(Object(p.a)(a)),a.hideWriteForm=a.hideWriteForm.bind(Object(p.a)(a)),a.closeAllReplyList=a.closeAllReplyList.bind(Object(p.a)(a)),a.scrollToLastReply=a.scrollToLastReply.bind(Object(p.a)(a)),a.deleteData=a.deleteData.bind(Object(p.a)(a)),a.showHeart=a.showHeart.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t="http://15.164.144.128:8080/HotelProject/save/review/"+this.props.row.review_img,a="http://15.164.144.128:8080/HotelProject/save/member_pic/"+this.props.row.member_pic,r="startReplyPosition"+this.props.idx,i="lastReplyPosition"+this.props.idx,s=(this.props.row.review_clean+this.props.row.review_dining+this.props.row.review_location+this.props.row.review_service+this.props.row.review_service)/5;s=Math.round(s);var n="";return n=0==this.props.row.review_reply_count?"":this.state.showOrHide,document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})}),l.a.createElement("div",null,l.a.createElement("li",null,l.a.createElement("div",{className:"review_div"},l.a.createElement("div",{className:"review_member_div"},l.a.createElement("img",{className:"",src:a,alt:"member_pic"}),l.a.createElement("b",null,this.props.row.id)),l.a.createElement("div",{className:"review_rating_div",onClick:this.openDetailDiv},l.a.createElement(u,{rate:s}),l.a.createElement("div",{style:{clear:"both"}}),l.a.createElement("div",{className:"review_rating_details_div",style:this.state.rateDetailStyle},l.a.createElement("i",{className:"fas fa-broom"})," ",l.a.createElement(u,{rate:this.props.row.review_clean}),l.a.createElement("div",{style:{clear:"both"}}),l.a.createElement("i",{className:"fas fa-utensils"}),l.a.createElement(u,{rate:this.props.row.review_dining}),l.a.createElement("div",{style:{clear:"both"}}),l.a.createElement("i",{className:"fas fa-map-marker-alt"}),l.a.createElement(u,{rate:this.props.row.review_location}),l.a.createElement("i",{className:"fas fa-smile"})," ",l.a.createElement(u,{rate:this.props.row.review_service}),l.a.createElement("i",{className:"fas fa-dollar-sign"}),l.a.createElement(u,{rate:this.props.row.review_price}))),l.a.createElement("div",{className:"review_below"},l.a.createElement("div",{className:"review_pics_div"},l.a.createElement("img",{src:t,alt:"review_pic"}),l.a.createElement("div",{style:this.state.heartStyle,className:"imgHeart",onClick:this.showHeart},l.a.createElement("img",{src:"http://15.164.144.128:8080/HotelProject/save/images/heart.png",alt:"heart"}))),l.a.createElement("div",{className:"review_func_div"},l.a.createElement("span",{ref:"emptyHeart",style:this.state.show},l.a.createElement("i",{className:"far fa-heart",onClick:this.clickHeart})),l.a.createElement("span",{ref:"filledHeart",style:this.state.hide},l.a.createElement("i",{className:"fas fa-heart",style:{color:"orangered"},onClick:this.unclickHeart})),l.a.createElement("span",null,l.a.createElement("i",{className:"far fa-comment",onClick:this.showWriteForm})),l.a.createElement("span",{style:this.state.moreBtnStyle,className:"review_func_more",onClick:this.deleteData},l.a.createElement("i",{className:"fas fa-times"})),l.a.createElement("div",{style:{clear:"both"}})),l.a.createElement("div",{className:"review_reply_writeform_div",style:this.state.writeformStyle},l.a.createElement(w,{member_num:this.props.member_num,review_num:this.props.row.review_num,insertReply:this.props.insertReply,idx:this.props.idx,showReplyList:this.showReplyList,hideWriteForm:this.hideWriteForm,scrollToLastReply:this.scrollToLastReply})),l.a.createElement("div",{className:"review_like_div"},l.a.createElement("b",null,"\uc88b\uc544\uc694 ",this.props.row.review_like," \uac1c ")),l.a.createElement("div",{className:"review_content_div"},l.a.createElement("b",null,this.props.row.id)," ",this.props.row.review_comment),l.a.createElement("div",{className:"review_writeday_div"},this.props.row.simpletime),l.a.createElement("div",{className:"review_reply_div div_last",id:r},l.a.createElement("div",null,l.a.createElement("a",{className:"a_reply",href:"#"+r,onClick:this.toggleReplyList},"\ub313\uae00 ",this.props.row.review_reply_count," \uac1c ",n)),l.a.createElement("div",{className:"review_reply_list_div",style:this.state.replyListStyle},this.props.row.reply_list.map(function(t,a){return l.a.createElement("div",{key:t.review_reply_num},l.a.createElement(y,{row:t,idx:e.props.idx,review_num:e.props.row.review_num,member_num:e.state.member_num,deleteReply:e.props.deleteReply}),l.a.createElement("div",{style:{clear:"both"}}))}),l.a.createElement("div",{className:"review_reply_writeform_div_inList"},l.a.createElement(w,{member_num:this.props.member_num,review_num:this.props.row.review_num,insertReply:this.props.insertReply,idx:this.props.idx,showReplyList:this.showReplyList,hideWriteForm:this.hideWriteForm,scrollToLastReply:this.scrollToLastReply}))),l.a.createElement("div",{id:i}))))))}}]),t}(r.Component)),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).list=function(e){var t="http://15.164.144.128:8080/HotelProject/reviewList?currentPage="+e;v.a.get(t).then(function(t){1===e?a.setState({list:t.data}):0===t.data.length?a.setState({currentPage:a.state.currentPage-1}):a.setState({list:a.state.list.concat(t.data)})}).catch(function(e){console.error(e)})},a._infiniteScroll=function(){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);Math.max(document.documentElement.scrollTop,document.body.scrollTop)+document.documentElement.clientHeight===e&&(a.setState({currentPage:a.state.currentPage+1}),a.list(a.state.currentPage))},a.insertReply=function(e,t){var r="http://15.164.144.128:8080/HotelProject/reviewReplyAdd?review_num="+e.review_num.value+"&member_num="+e.member_num.value+"&review_reply_comment="+e.review_reply_comment.value;v.a.get(r).then(function(e){var r=e.data,l=a.state.list[t];l.reply_list=r;var i=a.state.list.filter(function(e,a){return a<t}),s=a.state.list.filter(function(e,a){return a>t});a.setState({list:i.concat(l).concat(s)})}).catch(function(e){console.error(e)})},a.deleteReply=function(e,t,r){var l="http://15.164.144.128:8080/HotelProject/reviewReplyDelete?review_reply_num="+e+"&review_num="+r;v.a.get(l).then(function(e){var r=e.data,l=a.state.list[t];l.reply_list=r;var i=a.state.list.filter(function(e,a){return a<t}),s=a.state.list.filter(function(e,a){return a>t});a.setState({list:i.concat(l).concat(s)})}).catch(function(e){console.error(e)})},a.updateLike=function(e,t){var r="http://15.164.144.128:8080/HotelProject/reviewUpdateLike?review_num="+t;v.a.get(r).then(function(t){var r=t.data,l=a.state.list[e];l.review_like=r;var i=a.state.list.filter(function(t,a){return a<e}),s=a.state.list.filter(function(t,a){return a>e});a.setState({list:i.concat(l).concat(s)})}).catch(function(e){console.error(e)})},a.updateUnlike=function(e,t){var r="http://15.164.144.128:8080/HotelProject/reviewUpdateUnlike?review_num="+t;v.a.get(r).then(function(t){var r=t.data,l=a.state.list[e];l.review_like=r;var i=a.state.list.filter(function(t,a){return a<e}),s=a.state.list.filter(function(t,a){return a>e});a.setState({list:i.concat(l).concat(s)})}).catch(function(e){console.error(e)})},a.deleteData=function(e){var t="http://15.164.144.128:8080/HotelProject/reviewDelete?review_num="+e;v.a.delete(t).then(function(e){for(var t=1;t<=a.state.currentPage;t++)a.list(t)}).catch(function(e){console.error(e)})},a.closeAllReplyList=function(e){a.setState({callChildIdx:e})},a.moveToReplyListStart=function(e,t){for(var a=0,r=0;r<e;r++)a+=document.getElementById("startReplyPosition"+e).offsetTop,a+=100;var l=document.getElementById("startReplyPosition"+e).offsetTop;l+=a,console.log("id : ","startReplyPosition"+e,"|| acc Height : ",l),t(l)},a.windowScroll=function(e){window.scroll({top:e,left:0,behavior:"smooth"})},a.scrollToLastReply=function(e,t){for(var a=0,r=0;r<e;r++)a+=document.getElementById("lastReplyPosition"+e).offsetTop+20;console.log("accHeight",a);var l=document.getElementById("lastReplyPosition"+e).offsetTop;l+=a-document.documentElement.clientHeight,console.log("id : ","lastReplyPosition"+e,"|| acc Height : ",l),t(l)},a.state={list:[],member_num:e.member_num,listStyle:{display:"none"},showListStyle:{display:"block"},callChildIdx:null,currentPage:1},a.list=a.list.bind(Object(p.a)(a)),a.updateLike=a.updateLike.bind(Object(p.a)(a)),a.updateUnlike=a.updateUnlike.bind(Object(p.a)(a)),a.insertReply=a.insertReply.bind(Object(p.a)(a)),a.closeAllReplyList=a.closeAllReplyList.bind(Object(p.a)(a)),a.moveToReplyListStart=a.moveToReplyListStart.bind(Object(p.a)(a)),a.windowScroll=a.windowScroll.bind(Object(p.a)(a)),a.scrollToLastReply=a.scrollToLastReply.bind(Object(p.a)(a)),a._infiniteScroll=a._infiniteScroll.bind(Object(p.a)(a)),a.deleteData=a.deleteData.bind(Object(p.a)(a)),a.deleteReply=a.deleteReply.bind(Object(p.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){for(var e=1;e<=this.state.currentPage;e++)this.list(e);window.addEventListener("scroll",this._infiniteScroll,!0)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("ul",null,this.state.list.map(function(t,a){return a===e.state.callChildIdx?l.a.createElement(b,{idx:a,row:t,key:a,updateLike:e.updateLike,updateUnlike:e.updateUnlike,member_num:e.props.member_num,insertReply:e.insertReply,closeAllReplyList:e.closeAllReplyList,listStyle:e.state.showListStyle,moveToReplyListStart:e.moveToReplyListStart,windowScroll:e.windowScroll,scrollToLastReply:e.scrollToLastReply,deleteData:e.deleteData,deleteReply:e.deleteReply,list:e.list}):l.a.createElement(b,{idx:a,row:t,key:a,updateLike:e.updateLike,updateUnlike:e.updateUnlike,member_num:e.props.member_num,insertReply:e.insertReply,closeAllReplyList:e.closeAllReplyList,listStyle:e.state.listStyle,moveToReplyListStart:e.moveToReplyListStart,windowScroll:e.windowScroll,scrollToLastReply:e.scrollToLastReply,deleteData:e.deleteData,deleteReply:e.deleteReply,list:e.list})})),l.a.createElement("div",{id:"test"}))}}]),t}(r.Component),E=function(e){var t=e.match;return l.a.createElement(_,{member_num:t.params.member_num})},g=a(16);var S=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(g.a,{path:"/:member_num",component:E}))},R=a(20),L=a(37),N=function(e){var t=e.store;return l.a.createElement(L.a,{store:t,basename:"/react-review"},l.a.createElement(R.a,null,l.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.c05cd249.chunk.js.map